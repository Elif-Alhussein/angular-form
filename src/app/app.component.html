<div class="max-w-4xl mx-auto p-6 m-30 border shadow-md bg-white">
  <h2 class="text-2xl font-semibold mb-6">Contact Information</h2>

  <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" novalidate>
    <!-- Name and surname -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label class="block font-medium mb-3">Name *</label>
        <input
          type="text"
          formControlName="name"
          class="w-full border px-3 py-2"
        />
        <small
          *ngIf="submitted && contactForm.controls['name'].invalid"
          class="text-red-500"
        >
          Name is required and should be between 2 and 50 characters.
        </small>
      </div>

      <div>
        <label class="block font-medium mb-3">Surname *</label>
        <input
          type="text"
          formControlName="surname"
          class="w-full border px-3 py-2"
        />
        <small
          *ngIf="submitted && contactForm.controls['surname'].invalid"
          class="text-red-500"
        >
          Surname is required and should be between 2 and 50 characters.
        </small>
      </div>
    </div>

    <!-- Email and Repeat Email -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
      <div>
        <label class="block font-medium">Email *</label>
        <input
          type="email"
          formControlName="email"
          class="w-full border px-3 py-2"
        />
        <small
          *ngIf="submitted && contactForm.controls['email'].invalid"
          class="text-red-500"
        >
          Please enter a valid email address.
        </small>
      </div>
      <div>
        <label class="block font-medium">Repeat Email *</label>
        <input
          type="email"
          formControlName="repeatemail"
          class="w-full border px-3 py-2"
        />
        <small
          *ngIf="submitted && contactForm.controls['repeatemail'].invalid"
          class="text-red-500"
        >
          Please enter a valid email address.
        </small>
        <small
          *ngIf="
            submitted &&
            contactForm.value.email !== contactForm.value.repeatemail
          "
          class="text-red-500"
        >
          Emails do not match.
        </small>
      </div>
    </div>

    <!-- Country Code and Phone Number -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
      <div>
        <label class="block font-medium">Country Code *</label>
        <p-dropdown
          [options]="codes"
          formControlName="code"
          placeholder="Select a country"
          class="w-full"
        ></p-dropdown>
        <small
          *ngIf="submitted && contactForm.controls['code'].invalid"
          class="text-red-500"
        >
          Country code is required.
        </small>
      </div>

      <div>
        <label class="block font-medium">Phone Number *</label>
        <input
          type="text"
          formControlName="phone"
          maxlength="10"
          class="w-full border px-3 py-2"
        />
        <small
          *ngIf="submitted && contactForm.controls['phone'].invalid"
          class="text-red-500"
        >
          Please enter a valid phone number.
        </small>
      </div>
    </div>

    <!-- Country -->
    <div class="mt-4">
      <label class="block font-medium">Country *</label>
      <p-dropdown
        [options]="countries"
        formControlName="country"
        placeholder="Select a country"
        class="w-full"
      ></p-dropdown>
      <small
        *ngIf="submitted && contactForm.controls['country'].invalid"
        class="text-red-500"
      >
        Country is required.
      </small>
    </div>

    <!-- City and Address -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
      <div>
        <label class="block font-medium">City *</label>
        <input
          type="text"
          formControlName="city"
          class="w-full border px-3 py-2"
        />
        <small
          *ngIf="submitted && contactForm.controls['city'].invalid"
          class="text-red-500"
        >
          City is required.
        </small>
      </div>

      <div>
        <label class="block font-medium">Address *</label>
        <input
          type="text"
          formControlName="address"
          class="w-full border px-3 py-2"
        />
        <small
          *ngIf="submitted && contactForm.controls['address'].invalid"
          class="text-red-500"
        >
          Address is required.
        </small>
      </div>
    </div>

    <!-- Zipcode -->
    <div class="mt-4">
      <label class="block font-medium">Zipcode *</label>
      <input
        type="text"
        formControlName="zipcode"
        class="w-full border px-3 py-2"
      />
      <small
        *ngIf="submitted && contactForm.controls['zipcode'].invalid"
        class="text-red-500"
      >
        Zipcode is required and must be a valid format.
      </small>
    </div>

    <!-- CheckBox -->
    <div class="mt-4 flex items-center">
      <div>
        <p-checkbox
          formControlName="isParticipating"
          binary="true"
        ></p-checkbox>
        <label for="participate" class="ml-2"
          >I am participating in the journey myself.</label
        >
      </div>
      <small
        *ngIf="submitted && contactForm.controls['isParticipating'].invalid"
        class="text-red-500"
      >
        You must confirm your participation.
      </small>
    </div>

    <!-- Save Button -->
    <div class="mt-8">
      <p-button
        label="Save"
        type="submit"
        [styleClass]="
          'bg-blue-500 text-white px-4 py-2 rounded border-none shadow-md'
        "
      ></p-button>
    </div>

    <!-- Success Message -->
    <div
      *ngIf="successMessage"
      class="alert alert-success bg-emerald-800 text-white p-4 mt-4 rounded"
    >
      {{ successMessage }}
    </div>
  </form>
</div>
