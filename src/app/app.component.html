<div class="max-w-4xl mx-auto p-6 m-30 border shadow-md bg-white">
  <h2 class="text-2xl font-semibold mb-6">Contact Information</h2>
  <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" novalidate>
    <!-- Name and surname -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label class="block font-medium mb-3">
          Name <span class="text-red-500">*</span>
        </label>
        <input
          pInputText
          type="text"
          formControlName="name"
          placeholder="Name"
          class="w-full"
        />
        <div class="h-5 mt-1">
          <small
            *ngIf="submitted && contactForm.controls['name'].invalid"
            class="text-red-500"
          >
            Name is required and should be between 2 and 50 characters.
          </small>
        </div>
      </div>

      <div>
        <label class="block font-medium mb-3">
          Surname <span class="text-red-500">*</span>
        </label>
        <input
          pInputText
          type="text"
          formControlName="surname"
          placeholder="Surname"
          class="w-full"
        />
        <div class="h-5 mt-1">
          <small
            *ngIf="submitted && contactForm.controls['surname'].invalid"
            class="text-red-500"
          >
            Surname is required and should be between 2 and 50 characters.
          </small>
        </div>
      </div>
    </div>

    <!-- Email and Repeat Email -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
      <div>
        <label class="block font-medium mb-3">
          Email <span class="text-red-500">*</span>
        </label>
        <input
          pInputText
          type="email"
          formControlName="email"
          placeholder="Email"
          class="w-full"
        />
        <div class="h-5 mt-1">
          <small
            *ngIf="submitted && contactForm.controls['email'].invalid"
            class="text-red-500"
          >
            Please enter a valid email address.
          </small>
        </div>
      </div>
      <div>
        <label class="block font-medium mb-3">
          Repeat Email <span class="text-red-500">*</span>
        </label>
        <input
          pInputText
          type="email"
          formControlName="repeatemail"
          placeholder="Email"
          class="w-full"
        />
        <div class="h-5 mt-1">
          <small
            *ngIf="submitted && contactForm.controls['repeatemail'].invalid"
            class="text-red-500"
          >
            Please enter a valid email address.
          </small>
          <small
            *ngIf="
              submitted &&
              contactForm.value.email !== contactForm.value.repeatemail
            "
            class="text-red-500"
          >
            Emails do not match.
          </small>
        </div>
      </div>
    </div>

    <div class="mt-4 flex flex-col md:flex-row md:space-x-4">
      <!-- Country Code + Phone Container -->
      <div class="flex w-full md:w-1/2 space-x-4">
        <!-- Code -->
        <div class="w-1/3">
          <label class="block font-medium mb-3">
            Code <span class="text-red-500">*</span>
          </label>
          <p-dropdown
            [options]="codes"
            formControlName="code"
            placeholder="Code"
            class="w-full"
          ></p-dropdown>
          <div class="h-5 mt-1">
            <small
              *ngIf="submitted && contactForm.controls['code'].invalid"
              class="text-red-500"
            >
              Required.
            </small>
          </div>
        </div>

        <!-- Phone -->
        <div class="w-2/3">
          <label class="block font-medium mb-3">
            Phone <span class="text-red-500">*</span>
          </label>
          <input
            pInputText
            type="text"
            formControlName="phone"
            placeholder="Enter phone number"
            maxlength="10"
            class="w-full"
          />
          <div class="h-5 mt-1">
            <small
              *ngIf="submitted && contactForm.controls['phone'].invalid"
              class="text-red-500"
            >
              Required.
            </small>
          </div>
        </div>
      </div>

      <!-- Country -->
      <div class="w-full md:w-1/2 mt-4 md:mt-0">
        <label class="block font-medium mb-3">
          Country <span class="text-red-500">*</span>
        </label>
        <p-dropdown
          [options]="countries"
          formControlName="country"
          placeholder="Country"
          class="w-full"
        ></p-dropdown>
        <div class="h-5 mt-1">
          <small
            *ngIf="submitted && contactForm.controls['country'].invalid"
            class="text-red-500"
          >
            Required.
          </small>
        </div>
      </div>
    </div>

    <!-- City and Address -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
      <div>
        <label class="block font-medium mb-3">
          City <span class="text-red-500">*</span>
        </label>
        <input
          pInputText
          type="text"
          formControlName="city"
          placeholder="City"
          class="w-full"
        />
        <div class="h-5 mt-1">
          <small
            *ngIf="submitted && contactForm.controls['city'].invalid"
            class="text-red-500"
          >
            City is required.
          </small>
        </div>
      </div>

      <div>
        <label class="block font-medium mb-3">
          Address <span class="text-red-500">*</span>
        </label>
        <input
          pInputText
          type="text"
          formControlName="address"
          placeholder="Address"
          class="w-full"
        />
        <div class="h-5 mt-1">
          <small
            *ngIf="submitted && contactForm.controls['address'].invalid"
            class="text-red-500"
          >
            Address is required.
          </small>
        </div>
      </div>
    </div>

    <!-- Zipcode and Save Button in the same row -->
    <div class="mt-4 flex flex-col md:flex-row md:space-x-4">
      <!-- Zipcode -->
      <div class="w-full md:w-1/2">
        <label class="block font-medium mb-3">
          Zipcode <span class="text-red-500">*</span>
        </label>
        <input
          pInputText
          type="text"
          formControlName="zipcode"
          placeholder="Zipcode"
          class="w-full"
        />
        <div class="h-5 mt-1">
          <small
            *ngIf="submitted && contactForm.controls['zipcode'].invalid"
            class="text-red-500"
          >
            Zipcode is required and must be a valid format.
          </small>
        </div>
      </div>

      <!-- Save Button -->
      <div class="w-full md:w-1/2 flex justify-center mt-11">
        <button pButton severity="success" class="w-32 h-13">Save</button>
      </div>
    </div>

    <!-- CheckBox -->
    <div class="mt-4 flex items-start">
      <div class="flex flex-col w-full">
        <div class="flex items-center">
          <p-checkbox
            formControlName="isParticipating"
            binary="true"
          ></p-checkbox>
          <label for="participate" class="ml-2">
            I am participating in the journey myself.
          </label>
        </div>
        <div class="h-5 mt-1">
          <small
            *ngIf="submitted && contactForm.controls['isParticipating'].invalid"
            class="text-red-500"
          >
            You must confirm your participation.
          </small>
        </div>
      </div>
    </div>

    <!-- Success Message -->
    <div
      *ngIf="successMessage"
      class="alert alert-success bg-emerald-800 text-white p-4 mt-4 rounded"
    >
      {{ successMessage }}
    </div>
  </form>
</div>
