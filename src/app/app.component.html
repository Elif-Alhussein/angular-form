<div class="max-w-4xl mx-auto p-6 m-30 border shadow-md bg-white">
  <h2 class="text-2xl font-semibold mb-6">Contact Information</h2>
  <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" novalidate>
    <!-- Name and surname -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label class="block font-medium mb-3"
          >Name <span class="text-red-500">*</span></label
        >
        <input
          pInputText
          type="text"
          formControlName="name"
          placeholder="Name"
          class="w-full"
        />
        <small
          *ngIf="submitted && contactForm.controls['name'].invalid"
          class="text-red-500"
        >
          Name is required and should be between 2 and 50 characters.
        </small>
      </div>

      <div>
        <label class="block font-medium mb-3"
          >Surname <span class="text-red-500">*</span></label
        >
        <input
          pInputText
          type="text"
          formControlName="surname"
          placeholder="Surname"
          class="w-full"
        />
        <small
          *ngIf="submitted && contactForm.controls['surname'].invalid"
          class="text-red-500"
        >
          Surname is required and should be between 2 and 50 characters.
        </small>
      </div>
    </div>

    <!-- Email and Repeat Email -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
      <div>
        <label class="block font-medium mb-3"
          >Email <span class="text-red-500">*</span></label
        >
        <input
          pInputText
          type="email"
          formControlName="email"
          placeholder="Email"
          class="w-full"
        />
        <small
          *ngIf="submitted && contactForm.controls['email'].invalid"
          class="text-red-500"
        >
          Please enter a valid email address.
        </small>
      </div>
      <div>
        <label class="block font-medium mb-3"
          >Repeat Email <span class="text-red-500">*</span></label
        >
        <input
          pInputText
          type="email"
          formControlName="repeatemail"
          placeholder="Email"
          class="w-full"
        />
        <small
          *ngIf="submitted && contactForm.controls['repeatemail'].invalid"
          class="text-red-500"
        >
          Please enter a valid email address.
        </small>
        <small
          *ngIf="
            submitted &&
            contactForm.value.email !== contactForm.value.repeatemail
          "
          class="text-red-500"
        >
          Emails do not match.
        </small>
      </div>
    </div>

    <!-- Country Code, Phone Number, Country in one row -->
    <div class="mt-4 flex items-center space-x-4">
      <div class="w-1/5">
        <label class="block font-medium mb-3"
          >Country Code <span class="text-red-500">*</span></label
        >
        <p-dropdown
          [options]="codes"
          formControlName="code"
          placeholder="Select a country code"
          class="w-full"
        ></p-dropdown>
        <small
          *ngIf="submitted && contactForm.controls['code'].invalid"
          class="text-red-500"
        >
          Country code is required.
        </small>
      </div>

      <div class="w-2/5">
        <label class="block font-medium mb-3"
          >Phone Number <span class="text-red-500">*</span></label
        >
        <input
          pInputText
          type="text"
          formControlName="phone"
          placeholder="Enter your phone number"
          maxlength="10"
          class="w-full"
        />
        <small
          *ngIf="submitted && contactForm.controls['phone'].invalid"
          class="text-red-500"
        >
          Please enter a valid phone number.
        </small>
      </div>

      <div class="w-3/5">
        <label class="block font-medium mb-3"
          >Country <span class="text-red-500">*</span></label
        >
        <p-dropdown
          [options]="countries"
          formControlName="country"
          placeholder="Select a country"
          class="w-full p-3"
        ></p-dropdown>
        <small
          *ngIf="submitted && contactForm.controls['country'].invalid"
          class="text-red-500"
        >
          Country is required.
        </small>
      </div>
    </div>

    <!-- City and Address -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
      <div>
        <label class="block font-medium mb-3"
          >City <span class="text-red-500">*</span></label
        >
        <input
          pInputText
          type="text"
          formControlName="city"
          placeholder="City"
          class="w-full"
        />
        <small
          *ngIf="submitted && contactForm.controls['city'].invalid"
          class="text-red-500"
        >
          City is required.
        </small>
      </div>

      <div>
        <label class="block font-medium mb-3"
          >Address <span class="text-red-500">*</span></label
        >
        <input
          pInputText
          type="text"
          formControlName="address"
          placeholder="Address"
          class="w-full"
        />
        <small
          *ngIf="submitted && contactForm.controls['address'].invalid"
          class="text-red-500"
        >
          Address is required.
        </small>
      </div>
    </div>

    <!-- Zipcode and Save Button in the same row -->
    <div class="mt-4 flex items-center space-x-4">
      <!-- Zipcode -->
      <div class="w-1/2">
        <label class="block font-medium mb-3"
          >Zipcode <span class="text-red-500">*</span></label
        >
        <input
          pInputText
          type="text"
          formControlName="zipcode"
          placeholder="Zipcode"
          class="w-full"
        />
        <small
          *ngIf="submitted && contactForm.controls['zipcode'].invalid"
          class="text-red-500"
        >
          Zipcode is required and must be a valid format.
        </small>
      </div>

      <!-- Save Button -->
      <div class="w-1/2">
        <p-button
          label="Save"
          type="submit"
          [styleClass]="
            'bg-blue-500 text-white px-4 py-2 rounded border-none shadow-md'
          "
        ></p-button>
      </div>
    </div>

    <!-- CheckBox -->
    <div class="mt-4 flex items-center">
      <div>
        <p-checkbox
          formControlName="isParticipating"
          binary="true"
        ></p-checkbox>
        <label for="participate" class="ml-2"
          >I am participating in the journey myself.</label
        >
      </div>
      <small
        *ngIf="submitted && contactForm.controls['isParticipating'].invalid"
        class="text-red-500"
      >
        You must confirm your participation.
      </small>
    </div>

    <!-- Success Message -->
    <div
      *ngIf="successMessage"
      class="alert alert-success bg-emerald-800 text-white p-4 mt-4 rounded"
    >
      {{ successMessage }}
    </div>
  </form>
</div>
